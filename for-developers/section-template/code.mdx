---
title: 'Code'
description: 'Learn about the core components of a section template'
---

# Template Code

Every section template in Glood.AI consists of several core files that work together to create a complete recommendation section. We use the [liquidJS](https://liquidjs.com/) library to render Liquid code at the client side. For any queries regarding Liquid-specific data structures, filters, or tags, please refer to the [Shopify Liquid documentation](https://shopify.dev/docs/api/liquid/objects).

## Core Parts

### 1. Section Template

The main template that defines the HTML structure and dynamic content rendering. It uses data structures defined in the [Object Definitions](/for-developers/section-template/schemas#object-definitions).

#### Dynamic Implementation
- Uses [translations object](/for-developers/section-template/schemas#translations-object) for text content
- Accesses [glood object](/for-developers/section-template/schemas#glood-object) for store configuration
- Renders [product data](/for-developers/section-template/schemas#product-array) in templates
- Applies [template settings](/for-developers/section-template/schemas#template-object) for styling

#### Liquid Filters
Special filters used in the template:

| Filter | Purpose | Input | Output | Example |
|--------|---------|-------|--------|---------|
| `money` | Price formatting | Number/String | Formatted price | `19.99 \| money` â†’ `"$19.99"` |
| `optimize_image` | Image optimization | URL | Optimized URL | Adds size and format parameters |
| `tracking_url` | Add tracking | Product | URL with params | Adds section reference |
| `section_discount` | Format discount | Section | Discount string | Formats based on locale |

#### Conditional Display Logic
Elements that show/hide based on conditions:

| Element | Condition | Purpose |
|---------|-----------|---------|
| `._gai-sec-head` | `section.layout != 'amazon_bought_together'` | Section header |
| `._gai-oos` | `product.available == false` | Out of stock badge |
| `._gai-dis-cnt` | `section_discount_str.length > 0` | Discount container |
| `._gai-qnt-cnt` | `template.settings.product_card.show_quantity_selector` | Quantity selector |

### 2. theme.js

The theme.js file manages all client-side functionality. It implements methods to handle section behavior and data transformation.

#### Core Methods Implementation

```javascript
// Example: Initializing Swiper
initSwiper: (Swiper, templateSettings, container, params) => {
    const carouselContainer = container.querySelector('._gai-crz-cnt');
    if (!carouselContainer) return;
    
    return new Swiper(carouselContainer, {
        slidesPerView: templateSettings.breakpoints.small.cardsPerView,
        spaceBetween: templateSettings.breakpoints.small.gutter
    });
}

// Example: Handling Variant Changes
  onVariantChange: (args, utils) => {
    const { variant, product, container } = args;
    const priceElement = container.querySelector('._gai-prod-prc');
    if (priceElement && variant.price) {
        priceElement.textContent = utils.formatMoney(variant.price);
  }
}
```

For complete method definitions and parameters, see [Core Methods](/for-developers/section-template/schemas#core-methods).

#### GraphQL Implementation
The `getProductDetailsQuery` method builds queries using fields defined in [GraphQL Query Fields](/for-developers/section-template/schemas#graphql-query-fields).

#### Data Transformation
The `transformProductData` method converts GraphQL responses to the structure defined in [Product Data Structure](/for-developers/section-template/schemas#product-data-structure).

### 3. css.liquid

Implements responsive styling using [template settings](/for-developers/section-template/schemas#template-object). Both section template and CSS template have access to the same template object. For a complete reference of available objects and their structure, see [Template Objects](/for-developers/section-template/schemas#object-definitions).

```scss
// Example: Responsive grid implementation
._gai-grid {
    display: grid;
    grid-template-columns: repeat({{ settings.breakpoints.small.cards_per_view }}, 1fr);
    gap: {{ settings.breakpoints.small.gutter }}px;
}
```

For complete CSS class reference, see [CSS Class Reference](/for-developers/section-template/schemas#css-class-reference).


## Support

For help with template customization or troubleshooting, contact our support team at support@glood.ai 